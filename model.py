import numpy as np

def train_test_split(data, labels, test_size=0.2, random_seed=None):
    if random_seed is not None:
        np.random.seed(random_seed)

    num_samples = data.shape[0]
    num_test_samples = int(num_samples * test_size)

    # Shuffle the samples
    indices = np.random.permutation(num_samples)

    # Split the samples into training and testing sets
    test_indices = indices[:num_test_samples]
    train_indices = indices[num_test_samples:]

    # Split the data and labels
    train_data = data[train_indices]
    train_labels = labels[train_indices]
    test_data = data[test_indices]
    test_labels = labels[test_indices]

    return train_data, test_data, train_labels, test_labels
